/* ============================================
   Tiptap 代码样式
   基于 Markdown Mobile 排版规范
   ============================================ */

.tiptap.ProseMirror {
  /* 行内代码 */
  code {
    font-family: "JetBrains Mono NL", ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;
    font-size: 12px;
    background-color: var(--tt-code-bg);
    color: var(--tt-code-text);
    border: 1px solid var(--tt-code-border);
    padding: 0.2em 0.4em;
    border-radius: 6px;
    white-space: break-spaces;

    /* 相对正文缩小到 85% */
    font-size: 0.85em;

    br {
      display: none;
    }
  }

  /* 代码块 */
  pre {
    font-family: "JetBrains Mono NL", ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;
    font-size: 12px;
    line-height: 1.45;
    background-color: var(--tt-bg-secondary);
    color: var(--tt-text-primary);
    overflow: auto;
    word-wrap: normal;

    .code-block-placeholder {
      color: var(--tt-placeholder);
      opacity: 0.5;
      pointer-events: none;
    }

    code {
      background: transparent;
      border: none;
      padding: 0;
      font-size: 100%;
      display: inline;
      max-width: auto;
      margin: 0;
      overflow: visible;
      line-height: inherit;
      word-wrap: normal;
      word-break: normal;
      white-space: pre;
    }
  }

  /* 键盘样式 */
  kbd {
    display: inline-block;
    font-family: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;
    font-size: 11px;
    line-height: 10px;
    padding: 0.25rem;
    color: var(--tt-code-text);
    vertical-align: middle;
    background-color: var(--tt-code-bg);
    border: solid 1px var(--tt-code-border);
    border-radius: 6px;
    box-shadow: inset 0 -1px 0 var(--tt-code-border);
  }

  /* 代码块中的删除线 */
  del code {
    text-decoration: inherit;
  }
}
